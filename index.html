<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta
            name="description"
            content="360°パノラマ画像をRobroxの6面スカイボックス画像に変換します"
        />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="css/styles.css" />
        <link rel="stylesheet" href="css/my.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/dropzone.min.css"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/min/dropzone.min.js"></script>
        <title>Roblox パノラマ to スカイ</title>
        <!-- Google tag (gtag.js) --->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-JLYTQ9JEPH"
        ></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "G-JLYTQ9JEPH");
        </script>
        <!-- /Google tag (gtag.js) --->
    </head>
    <body>
        <div class="container py-4 px-3 mx-auto">
            <header
                class="d-flex justify-content-between align-items-md-center pb-3 mb-5 border-bottom"
            >
                <h1 class="h4">
                    <a
                        href="/"
                        class="d-flex align-items-center text-dark text-decoration-none"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="32"
                            height="32"
                            fill="currentColor"
                            class="bi bi-bootstrap-fill d-inline-block me-2"
                            viewBox="0 0 16 16"
                        >
                            <path
                                d="M6.375 7.125V4.658h1.78c.973 0 1.542.457 1.542 1.237 0 .802-.604 1.23-1.764 1.23H6.375zm0 3.762h1.898c1.184 0 1.81-.48 1.81-1.377 0-.885-.65-1.348-1.886-1.348H6.375v2.725z"
                            />
                            <path
                                d="M4.002 0a4 4 0 0 0-4 4v8a4 4 0 0 0 4 4h8a4 4 0 0 0 4-4V4a4 4 0 0 0-4-4h-8zm1.06 12V3.545h3.399c1.587 0 2.543.809 2.543 2.11 0 .884-.65 1.675-1.483 1.816v.1c1.143.117 1.904.931 1.904 2.033 0 1.488-1.084 2.396-2.888 2.396H5.062z"
                            />
                        </svg>
                        <span>Roblox パノラマ to スカイ</span>
                    </a>
                </h1>

                <a
                    href="https://github.com/shinjiesk/panorama-to-cubemap"
                    target="_blank"
                    rel="noopener"
                    >View on GitHub</a
                >
            </header>

            <!--- ============================================= -->
            <section>
                360°パノラマ画像をRobroxの6面スカイボックス画像に変換します
            </section>
            <!--- ============================================= -->
            <section>
                <h2>1. パノラマ画像を用意する</h2>
                <ul>
                    <li>縦横比が1:2の等角円筒図法のパノラマ画像</li>
                    <li>
                        画像フォーマットはPNG、Jpeg、WebPに対応（EXR、HDRには非対応です。変換するには<a
                            href="https://convertio.co/ja/"
                            target="_blank"
                            rel="noopener noreferrer"
                            >こちら</a
                        >へ）
                    </li>
                    <li>
                        パノラマ画像の入手は、例えば<a
                            href="https://polyhaven.com/hdris"
                            target="_blank"
                            rel="noopener noreferrer"
                            >Poly Haven</a
                        >から。
                    </li>
                </ul>
            </section>
            <!--- ============================================= -->
            <section>
                <h2>2. パノラマ画像をアップロード</h2>
                <figure>
                    <div id="dropzone" class="dropzone-area">
                        <label for="imageInput" class="custom-file-upload">
                            ファイルを選択またはここにドラッグアンドドロップ
                        </label>
                        <input
                            id="imageInput"
                            type="file"
                            accept="image/*"
                            class="hidden-file-input"
                        />
                        <div id="fileNameDisplay"></div>
                        <div id="errorMessage" class="error-message"></div>
                    </div>
                </figure>
            </section>

            <section>
                <h3>キューブの回転</h3>
                <div>
                    <label for="cubeRotation">正面の向きを変更できます:</label>
                    <input
                        id="cubeRotation"
                        type="number"
                        min="0"
                        max="359"
                        value="0"
                    />°
                </div>
                <div id="cubemap">
                    <b id="generating" style="visibility: hidden">生成中...</b>
                    <output id="faces"></output>
                </div>
            </section>

            <!--- ============================================= -->

            <section>
                <h2>3. ダウンロード</h2>
                <p>各面をクリックして個別にダウンロードしてください。</p>
            </section>
            <!--- ============================================= -->

            <section>
                <h2>4. Robloxで設定</h2>
                <ol>
                    <li>ダウンロードしたZIPを解凍します。</li>
                    <li>解凍したファイルをRoblox Studioにインポートします。</li>
                    <li>
                        Roblox
                        Studioで、LightingのSkyに設定します。ファイル名の末尾とプロパティ名を合わせてください。
                    </li>
                </ol>
            </section>
            <!--- ============================================= -->
        </div>
        <script src="js/cubemap.js"></script>
        <script type="module" src="js/main.js"></script>
        <script>
            // Dropzone class configuration
            Dropzone.options.imageInput = {
                url: "/upload", // Replace with your upload URL
                maxFilesize: 10, // Maximum filesize in MB
                acceptedFiles: "image/*",
                dictDefaultMessage:
                    "画像をここにドラッグアンドドロップまたはクリックしてアップロード",
            };
        </script>
    </body>
</html>
